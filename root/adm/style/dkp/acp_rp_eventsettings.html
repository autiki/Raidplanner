<!-- INCLUDE overall_header.html -->
<!--
 Raidplanner ACP html
 @package bbDkp.acp
 @copyright (c) 2010 bbDkp <http://code.google.com/p/bbdkp/>
 @license http://opensource.org/licenses/gpl-license.php GNU Public License
 @version $Id$
//-->
<h1>{L_ACP_RAIDPLANNER_SETTINGS}</h1>
<p>{L_MANAGE_ETYPES_EXPLAIN}</p>
<fieldset>
	
	<form id="raidplansettings" name="raidplansettings" method="post" action="{U_ACTION}" >
	<div class="tablewrap">
	
	<!-- IF S_MANAGE_ETYPES -->
		<!-- IF ERROR_MSG -->
			<div class="errorbox">
				<h3>{L_WARNING}</h3>
				<p>{ERROR_MSG}</p>
			</div>
		<!-- ENDIF -->	
		<table cellspacing="1">
				<col class="row1" /><col class="row2" />
			<tbody>
			<!-- BEGIN raidplan_types -->
				<tr>
					<td>
						<!-- IF raidplan_types.IMAGE --><div style="float: {S_CONTENT_FLOW_BEGIN}; margin-right: 5px;"><img src="{raidplan_types.IMAGE}" /></div><!-- ENDIF -->
						<strong><!-- IF raidplan_types.COLOR --><span style="color: #{raidplan_types.COLOR};">{raidplan_types.FULL_NAME} ({raidplan_types.DISPLAY_NAME})</span><!-- ELSE -->{raidplan_types.FULL_NAME} ({raidplan_types.DISPLAY_NAME})<!-- ENDIF --></strong>
					</td>
					<td style="vertical-align: top; width: 100px; text-align: right; white-space: nowrap;">
						<!-- IF raidplan_types.S_FIRST_ROW && not raidplan_types.S_LAST_ROW -->
							{ICON_MOVE_UP_DISABLED}
							<a href="{raidplan_types.U_MOVE_DOWN}">{ICON_MOVE_DOWN}</a>
						<!-- ELSEIF not raidplan_types.S_FIRST_ROW && not raidplan_types.S_LAST_ROW-->
							<a href="{raidplan_types.U_MOVE_UP}">{ICON_MOVE_UP}</a>
							<a href="{raidplan_types.U_MOVE_DOWN}">{ICON_MOVE_DOWN}</a>
						<!-- ELSEIF raidplan_types.S_LAST_ROW && not raidplan_types.S_FIRST_ROW -->
							<a href="{raidplan_types.U_MOVE_UP}">{ICON_MOVE_UP}</a>
							{ICON_MOVE_DOWN_DISABLED}
						<!-- ELSE -->
							{ICON_MOVE_UP_DISABLED}
							{ICON_MOVE_DOWN_DISABLED}
						<!-- ENDIF -->
						<a href="{raidplan_types.U_EDIT}">{ICON_EDIT}</a>
						<a href="{raidplan_types.U_DELETE}">{ICON_DELETE}</a>
					</td>
				</tr>
			<!-- END raidplan_types -->
			</tbody>
			</table>
		
	
		<form id="raidplan_types" method="post" action="{U_ACTION}">
		<fieldset class="quick">
			<input type="hidden" name="action" value="add" />
			<input type="text" name="etype_full_name" value="" maxlength="255" />
			<input class="button2" name="update" type="submit" value="{L_CREATE_EVENT_TYPE}" />
		</fieldset>
		{S_FORM_TOKEN}
		</form>
		
		
	<!-- ELSEIF S_EDIT_ETYPE -->
	
	<script type="text/javascript">
			/**
			* Activate/Deactivate move types
			*/
			function update_action_status()
			{
				if( document.acp_etype.delete_ee.checked )
				{
					document.acp_etype.new_id.disabled = true;
				}
				else
				{
					document.acp_etype.new_id.disabled = false;
				}
			}
		</script>
	
		<h1>{L_DELETE_ETYPE}</h1>
	
		<legend>{L_DELETE_ETYPE_EXPLAIN}</legend>
	
		<!-- IF S_ERROR -->
			<div class="errorbox">
				<h3>{L_WARNING}</h3>
				<p>{ERROR_MSG}</p>
			</div>
		<!-- ENDIF -->
	
		<form id="acp_etype" name="acp_etype" method="post" action="{U_ACTION}">
	
		<fieldset>
			<legend>{L_DELETE}</legend>
		<dl>
			<dt><label>{L_FULL_NAME}:</label></dt>
			<dd><strong>{ETYPE_FULL_NAME}</strong></dd>
		</dl>
		<!-- IF NUM_EXISTING_EVENTS > 0 -->
	
			<!-- IF .alt_raidplan_types -->
				<dl>
					<dt><label>{L_DELETE_ALL_EVENTS}:</label></dt>
					<dd><input type="checkbox" id="delete_ee" name="delete_ee" value="delete" checked="checked" onclick="update_action_status()" /></dd>
				</dl>
				<dl>
					<dt><label>{L_CHANGE_EVENTS_TO}:</label></dt>
					<dd><select name="new_id" id="new_id" disabled="disabled">
				    <!-- BEGIN alt_raidplan_types -->
				    <option value="{alt_raidplan_types.ID}">{alt_raidplan_types.FULL_NAME}</option>
				    <!-- END alt_raidplan_types -->
					</select></dd>
				</dl>
			<!-- ELSE -->
				<dl>
					<dt><label>{L_DELETE_LAST_EVENT_TYPE}</label> {L_DELETE_LAST_EVENT_TYPE_EXPLAIN}</dt>
					<dd><input type="hidden" id="delete_ee" name="delete_ee" value="delete"></dd>
				</dl>
			<!-- ENDIF -->
		<!-- ENDIF -->
	
		<p class="quick">
			<input class="button1" type="submit" name="update" value="{L_SUBMIT}" />
		</p>
		{S_FORM_TOKEN}
		</fieldset>
		</form>
		
		
		<h1>{L_EDIT_ETYPE}</h1>
	
		<legend>{L_EDIT_ETYPE_EXPLAIN}</legend>
	
		<!-- IF S_ERROR -->
			<div class="errorbox">
				<h3>{L_WARNING}</h3>
				<p>{ERROR_MSG}</p>
			</div>
		<!-- ENDIF -->
	
		<form id="acp_etype" method="post" action="{U_ACTION}">
	
		<fieldset>
			<legend>{L_EDIT}</legend>
		<dl>
			<dt><label>{L_FULL_NAME}:</label></dt>
			<dd><input type="text" name="etype_full_name" id="etype_full_name" value="{ETYPE_FULL_NAME}" /></dd>
			<dt><label>{L_DISPLAY_NAME}:</label></dt>
			<dd><input type="text" name="etype_display_name" id="etype_display_name" value="{ETYPE_DISPLAY_NAME}" /></dd>
			<dt><label>{L_COLOR}:</label></dt>
			<dd><input name="etype_color" type="text" id="etype_color" value="{ETYPE_COLOR}" maxlength="6" />&nbsp;&nbsp;<span>[ <a href="{U_SWATCH}" onclick="popup(this.href, 636, 150, '_swatch'); return false">{L_COLOUR_SWATCH}</a> ]</span></dd>
			<dt><label>{L_ICON_URL}:</label></dt>
			<dd><input type="text" name="etype_image" id="etype_image" value="{ETYPE_IMAGE}" />
			<input type="hidden" name="etype_id" id="etype_id" value="{ETYPE_ID}" /></dd>
		</dl>
		<p class="quick">
			<input class="button1" type="submit" name="update" value="{L_SUBMIT}" />
		</p>
		{S_FORM_TOKEN}
		</fieldset>
		</form>		
		
	<!-- ENDIF -->
	
				
	</form>
</fieldset>
<!-- INCLUDE dkp/overall_footer.html -->